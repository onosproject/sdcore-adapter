sources:
  - name: default
    endpoint: http://aether-roc-umbrella-prometheus-server:80/
destinations:
  - name: default
    endpoint: onos-config:5150
    target: connectivity-service-v3
vcs:
  - name: zynga-sfo-vrgames
    rules:
      - name: zynga
        expr: sum(smf_pdu_session_profile{slice="zynga-sfo-vrgames",state="active"})
        debug: true
        continue: true
      - name: zynga-verylow-utilization
        expr: sum(smf_pdu_session_profile{slice="zynga-sfo-vrgames",state="active"})<=20
        actions:
          - operation: set
            field: downlink
            value: 100000
      - name: zynga-low-utilization
        expr: sum(smf_pdu_session_profile{slice="zynga-sfo-vrgames",state="active"})<=30
        actions:
          - operation: set
            field: downlink
            value: 500000
      - name: zynga-medium-utilization
        expr: sum(smf_pdu_session_profile{slice="zynga-sfo-vrgames",state="active"})<=40
        actions:
          - operation: set
            field: downlink
            value: 750000            
      - name: zynga-high-utilization
        expr: sum(smf_pdu_session_profile{slice="zynga-sfo-vrgames",state="active"})<=50
        actions:
          - operation: set
            field: downlink
            value: 1000000
      - name: zynga-veryhigh-utilization
        actions:
          - operation: set
            field: downlink
            value: 2000000
